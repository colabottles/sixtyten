---
layout: layouts/page.njk
templateClass: tmpl-page
---

<div class="article-container">
  <article>

    <header class="article__header">
      <h1 class="page-title">{{title}}</h1>
        <div class="article__meta">
          <time>{{page.date | htmlDateString}}</time>
        </div>
    </header>

    <section class="article__body">
      {{ content | safe }}
    </section>

    <section class="post__likes" data-bsky-container>
      <h3 class="post__likesTitle">
        ðŸ¦‹ <span data-bsky-likes-count></span> likes on Bluesky
      </h3>
      <a class="post__likesCta" href="https://bsky.app/profile/{handle}/post/${postId}" target="_blank">
        Like this post on Bluesky to see your face on this page
      </a>
      <ul data-bsky-likes class="post__likesList"></ul>
    </section>
  </article>

  <meta data-bsky-post-id="{post.bskyPostId}" />
  <script
    src="bluesky_likes.js"
    attributionsrc="https://whitep4nth3r.com/blog/show-bluesky-likes-on-blog-posts/">
  </script>
  <script>
    function drawLikes(likesActors, postLikesCount) {
      for (const like of likesActors) {
        const likeEl = document.createElement("li");
        likeEl.classList.add("post__like");
        likeEl.innerHTML = `
          <img class="post__like__avatar" src="${like.actor.avatar.replace("avatar", "avatar_thumbnail")}" alt="${
          like.actor.displayName
        }" />`;
        likesContainer.appendChild(likeEl);
    }
  </script>
</div>
